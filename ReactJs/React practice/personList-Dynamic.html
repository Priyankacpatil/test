<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>React Tutorial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    
    <style>
    	form
		{
			background: #f1f1f1;
			
			width: 270px;
			padding: 10px;
			margin: 0 auto;
		}
		input
		{
			margin-bottom: 10px;
			padding: 5px;
		
		}
		label
		{
			margin-right: 10px;
		
		}
		#output
		{
			
			
			border: 1px solid #ccc;
			
			width: 270px;
			padding: 10px;
			margin: 0 auto;
			margin-top: 10px;
		}
		button
		{
			margin-top: 10px;
			width: 100px;
			padding: 10px 0;
			background: #666;
			color: #fff;
			border: none;
			border-radius: 5px;
		}
    </style>
   
  </head>
  <body>
    <div id="content"></div>
    
    <script type="text/babel">
	
	/*var data = [
					{first:"Priyanka", last:"Patil"},
					{first:"Pranita", last:"Pawar"},
					{first:"Akash", last:"Sharma"}
				]*/
	
      var PersonApp = React.createClass({
		  
		  getInitialState:function()
		  {
			  return {data:[], first:"", last:""}
		  },
		  
		  onChangeFirst:function(e)
		  {
			  this.setState({first:e.target.value})
		  },
		  
		   onChangeLast:function(e)
		  {
			  this.setState({last:e.target.value})
		  },
		  
		  handleSubmit:function(e)
		  {
			  e.preventDefault();
			  this.state.data.push({first:this.state.first, last:this.state.last});
			  this.setState({first:"", last:""})
		  },
		  
		  
		  
  		render: function() {
   		 return (
    		  <div>
       			 <h1>This is app</h1>
				 <form onSubmit  = {this.handleSubmit}>
				 	<label>First Name:</label>
				 	<input type="text" value={this.state.first} onChange={this.onChangeFirst} placeholder="First Name"/>
					
					<label>Last Name:</label>
					<input type="text" value={this.state.last} onChange={this.onChangeLast} placeholder="Last Name"/>
					
					<button>Add</button>
				 </form>
				 
				 <PersonList data = {this.state.data} />
				
      			</div>
    );
  }
});


var Person = React.createClass({
	render:function()
	{
		return(
			<div id="output">
				<h3>{this.props.first}  {this.props.last}</h3>
			</div>
		)
	}
	});
	
	
var PersonList  = React.createClass({
	render:function()
	{
		var people = this.props.data.map(function(person){
			return <Person first = {person.first} last={person.last} />
			});
			
			return(
				<div>
					{people}
				</div>
			)
	}
	
	
	});
	
	

	
	
ReactDOM.render(
  <PersonApp />,
  document.getElementById('content')
);
    </script>
  </body>
</html>