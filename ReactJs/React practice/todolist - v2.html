<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>React:: ToDo List</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    
   <link rel="stylesheet" href="css/style.css">
   
  </head>
  <body>
    <div id="content"></div>
    
    <script type="text/babel">
	
	var count= 0;
	
      var PersonApp = React.createClass({
		  
		  getInitialState:function()
		  {
			  return {data:[], taskname:"", id:""}
		  },
		  
		  onChangeTaskname:function(e)
		  {
			  this.setState({taskname:e.target.value})
		  },
		  
				  
		  handleSubmit:function(e)
		  {
			  e.preventDefault();
			  this.state.data.push({taskname:this.state.taskname, id: count});
			  this.setState({taskname:"", id:""})
			  count++;
			  
			 
		  },
		  
		  
		  
  		render: function() {
   		 return (
    		  <div>
       			 <h1>To Do List</h1>
				 <form onSubmit  = {this.handleSubmit}>
				 	<label>Add Task:</label>
				 	<input type="text" value={this.state.taskname} onChange={this.onChangeTaskname} placeholder="Task Name"/>
					
					<button>Add</button>
				 </form>
				 
				 <PersonList data = {this.state.data} />
				
      			</div>
    );
  }
});


	var divStyle= {width: "270px", margin: "5px auto 0", border: "1px solid #ccc", padding: "10px"};
	
			
	
var Person = React.createClass({
	render:function()
	{
	
		return(
		
	
		<div style={divStyle}>
			<li>
				<input type="checkbox" onClick = {this.handleClick}/>
				<input type="text" value={this.props.taskname}/>
				<p>{this.props.id}</p>
				<button id="edit" onclick = {this.fnedit}>edit</button>
				
				
				
			</li>
		</div>
		)
	},
	
	  handleClick:function(e)
		  {
			console.log(this.props.id);
			document.getElementById("edit").style.display = "block";
		
	
			
		  }
	});
		
	function fnedit()
	{
		console.log("edit");
	}
	
var PersonList  = React.createClass({
	render:function()
	{
		var people = this.props.data.map(function(person){
			return <Person taskname = {person.taskname} id = {person.id} />
			});
			
			return(
				<div>
					{people}
				</div>
			)
	}
	
	
	});
	


	
	
ReactDOM.render(
  <PersonApp />,
  document.getElementById('content')
);
    </script>
  </body>
</html>